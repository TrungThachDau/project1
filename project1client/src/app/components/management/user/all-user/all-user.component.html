<app-navbar></app-navbar>
<div class="container-fluid">
  <div class="list-section">
    <app-user-list-section></app-user-list-section>
  </div>
  <div class="content-section">
    <mat-toolbar class="toolbar2">
      <span>Quản lý người dùng</span>
      <span class="example-spacer"></span>
    </mat-toolbar>
    <div class="table-user">
      <div class="toolbar">
        <input [formControl]="search" class="input-search" type="search" placeholder="Tìm người dùng" aria-label="Tìm người dùng">
        <button mat-flat-button routerLink="/management/user/add">Thêm người dùng mới</button>
      </div>

      <table class="table">
        <thead>
          <tr>
            <th scope="col">NGƯỜI DÙNG</th>
            <th scope="col">VAI TRÒ</th>
            <th scope="col" style="width:20%">LẦN CUỐI ĐĂNG NHẬP</th>
            <th scope="col">TRẠNG THÁI</th>
            <th scope="col">HÀNH ĐỘNG</th>
          </tr>
        </thead>
        <tbody>
          @for (user of filteredUsers; track user) {
            <tr>
              <td><p class="name" routerLink="/management/user/{{user.id_user}}">{{user.name}}
                <br/>
                <a class="email">{{user.email}}</a></p>
              </td>
              <td>{{user.role.name_role}}</td>
              <td>
                <div class="status">
                  <b>{{ user.last_login ||"Chưa từng đăng nhập"}}</b>
                </div>
              </td>
              <td>
                <div class="status">
                  <b>{{ user.status ||"Không rõ"}}</b>
                </div>
              </td>
              <td>
                <button mat-stroked-button [matMenuTriggerFor]="menu">
                  <mat-icon>arrow_drop_down</mat-icon>
                  <a>Hành động</a>
                </button>
                <mat-menu #menu="matMenu">
                  <button mat-menu-item routerLink="/management/user/{{user.id_user}}">Xem</button>
                  <button mat-menu-item routerLink="/management/user/edit/{{user.id_user}}">Sửa</button>
                  <button mat-menu-item disabled>Xóa</button>
                  <button mat-menu-item disabled>Chặn</button>
                </mat-menu>
              </td>
            </tr>
          }
        </tbody>
      </table>
    </div>

  </div>

</div>
